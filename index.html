<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pull Requestä½“é¨“ã‚¢ãƒ—ãƒª</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background-color: #0d1117;
        color: #e6edf3;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: linear-gradient(135deg, #24292f 0%, #161b22 100%);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #58a6ff, #f85149);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .step {
        background: #161b22;
        border: 1px solid #30363d;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 25px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .step::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #58a6ff, #f85149);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .step.active::before {
        opacity: 1;
      }

      .step.completed {
        background: rgba(46, 160, 67, 0.1);
        border-color: #2ea043;
      }

      .step-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .step-number {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #30363d;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .step.active .step-number {
        background: #58a6ff;
        color: #0d1117;
      }

      .step.completed .step-number {
        background: #2ea043;
        color: white;
      }

      .step h3 {
        font-size: 1.4em;
        color: #f0f6fc;
      }

      .file-editor {
        background: #0d1117;
        border: 1px solid #30363d;
        border-radius: 8px;
        margin: 15px 0;
        overflow: hidden;
      }

      .file-header {
        background: #21262d;
        padding: 12px 16px;
        border-bottom: 1px solid #30363d;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .file-icon {
        width: 16px;
        height: 16px;
        opacity: 0.7;
      }

      .file-name {
        font-family: "Monaco", "Menlo", monospace;
        font-size: 14px;
        color: #f0f6fc;
      }

      .code-area {
        padding: 16px;
        background: #0d1117;
      }

      .code-input {
        width: 100%;
        min-height: 150px;
        background: transparent;
        border: none;
        color: #e6edf3;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 14px;
        line-height: 1.45;
        resize: vertical;
        outline: none;
      }

      .btn {
        background: #238636;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .btn:hover {
        background: #2ea043;
        transform: translateY(-1px);
      }

      .btn:active {
        transform: translateY(0);
      }

      .btn-secondary {
        background: #21262d;
        border: 1px solid #30363d;
      }

      .btn-secondary:hover {
        background: #30363d;
      }

      .pr-form {
        background: #0d1117;
        border: 1px solid #30363d;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #f0f6fc;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 12px;
        background: #21262d;
        border: 1px solid #30363d;
        border-radius: 6px;
        color: #e6edf3;
        font-size: 14px;
      }

      .form-group textarea {
        min-height: 100px;
        resize: vertical;
      }

      .pr-preview {
        background: #0d1117;
        border: 1px solid #30363d;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
      }

      .pr-title {
        font-size: 1.5em;
        font-weight: 600;
        color: #f0f6fc;
        margin-bottom: 10px;
      }

      .pr-meta {
        color: #8b949e;
        margin-bottom: 15px;
      }

      .pr-description {
        color: #e6edf3;
        line-height: 1.6;
      }

      .diff-view {
        background: #0d1117;
        border: 1px solid #30363d;
        border-radius: 8px;
        margin: 15px 0;
      }

      .diff-header {
        background: #21262d;
        padding: 12px 16px;
        border-bottom: 1px solid #30363d;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 14px;
      }

      .diff-line {
        padding: 2px 50px 2px 16px;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 12px;
        position: relative;
      }

      .diff-line.added {
        background: rgba(46, 160, 67, 0.15);
        color: #e6edf3;
      }

      .diff-line.removed {
        background: rgba(248, 81, 73, 0.15);
        color: #e6edf3;
      }

      .diff-line.added::before {
        content: "+";
        position: absolute;
        left: 16px;
        color: #2ea043;
      }

      .diff-line.removed::before {
        content: "-";
        position: absolute;
        left: 16px;
        color: #f85149;
      }

      .success-message {
        background: rgba(46, 160, 67, 0.1);
        border: 1px solid #2ea043;
        color: #2ea043;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        display: none;
      }

      .branch-selector {
        display: flex;
        gap: 10px;
        align-items: center;
        margin: 15px 0;
      }

      .branch-select {
        background: #21262d;
        border: 1px solid #30363d;
        color: #e6edf3;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 14px;
      }

      .arrow {
        color: #8b949e;
        font-size: 18px;
      }

      .commit-message {
        background: #21262d;
        border: 1px solid #30363d;
        border-radius: 6px;
        padding: 12px;
        margin: 10px 0;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 14px;
        color: #e6edf3;
      }

      .status-badge {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
        margin-left: 10px;
      }

      .status-draft {
        background: rgba(139, 148, 158, 0.2);
        color: #8b949e;
      }

      .status-open {
        background: rgba(46, 160, 67, 0.2);
        color: #2ea043;
      }

      .status-merged {
        background: rgba(137, 87, 229, 0.2);
        color: #8957e5;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .step {
        animation: slideIn 0.5s ease-out;
      }

      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 2px solid #30363d;
        border-radius: 50%;
        border-top-color: #58a6ff;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ”„ Pull Requestä½“é¨“ã‚¢ãƒ—ãƒª</h1>
        <p>GitHubã®Pull Requestãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½“é¨“ã§ãã¾ã™</p>
        <p><strong>Repository:</strong> gadgeski/sample-project</p>
      </div>

      <!-- Step 1: ãƒ–ãƒ©ãƒ³ãƒä½œæˆ -->
      <div class="step" id="step1">
        <div class="step-header">
          <div class="step-number">1</div>
          <h3>ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ</h3>
        </div>
        <p>æ–°ã—ã„æ©Ÿèƒ½ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã¾ã™ã€‚</p>

        <div class="branch-selector">
          <select class="branch-select" id="baseBranch">
            <option value="main">main</option>
          </select>
          <span class="arrow">â†’</span>
          <input
            type="text"
            class="branch-select"
            id="newBranchName"
            placeholder="feature/new-feature"
            style="width: 200px"
          />
        </div>

        <button class="btn" onclick="createBranch()">
          <span>ğŸŒ¿</span>
          ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
        </button>
      </div>

      <!-- Step 2: ã‚³ãƒ¼ãƒ‰ç·¨é›† -->
      <div class="step" id="step2">
        <div class="step-header">
          <div class="step-number">2</div>
          <h3>ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†</h3>
        </div>
        <p>ä½œæˆã—ãŸãƒ–ãƒ©ãƒ³ãƒã§æ–°ã—ã„æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

        <div class="file-editor">
          <div class="file-header">
            <svg class="file-icon" viewBox="0 0 16 16" fill="currentColor">
              <path
                d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0113.25 16h-7.5A1.75 1.75 0 014 14.25V1.75zm1.75-.25a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 019 4.25V1.5H5.75z"
              />
            </svg>
            <span class="file-name">index.js</span>
          </div>
          <div class="code-area">
            <textarea
              class="code-input"
              id="codeEditor"
              placeholder="// ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã‚’ã“ã“ã«æ›¸ã„ã¦ãã ã•ã„
function greetUser(name) {
    return `Hello, ${name}!`;
}

console.log(greetUser('World'));"
            ></textarea>
          </div>
        </div>

        <button class="btn" onclick="saveChanges()">
          <span>ğŸ’¾</span>
          å¤‰æ›´ã‚’ä¿å­˜
        </button>
      </div>

      <!-- Step 3: ã‚³ãƒŸãƒƒãƒˆ -->
      <div class="step" id="step3">
        <div class="step-header">
          <div class="step-number">3</div>
          <h3>å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ</h3>
        </div>
        <p>å¤‰æ›´å†…å®¹ã‚’ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å…±ã«è¨˜éŒ²ã—ã¾ã™ã€‚</p>

        <div class="commit-message">
          <input
            type="text"
            id="commitMessage"
            placeholder="feat: add greeting function"
            style="
              width: 100%;
              background: transparent;
              border: none;
              color: inherit;
              outline: none;
            "
          />
        </div>

        <button class="btn" onclick="commitChanges()">
          <span>ğŸ“</span>
          ã‚³ãƒŸãƒƒãƒˆ
        </button>
      </div>

      <!-- Step 4: Pull Requestä½œæˆ -->
      <div class="step" id="step4">
        <div class="step-header">
          <div class="step-number">4</div>
          <h3>Pull Requestã‚’ä½œæˆ</h3>
        </div>
        <p>
          å¤‰æ›´å†…å®¹ã‚’ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã™ã‚‹ãŸã‚ã®Pull Requestã‚’ä½œæˆã—ã¾ã™ã€‚
        </p>

        <div class="pr-form">
          <div class="form-group">
            <label for="prTitle">ã‚¿ã‚¤ãƒˆãƒ«</label>
            <input
              type="text"
              id="prTitle"
              placeholder="Add greeting function"
            />
          </div>

          <div class="form-group">
            <label for="prDescription">èª¬æ˜</label>
            <textarea
              id="prDescription"
              placeholder="## æ¦‚è¦
ã“ã®å¤‰æ›´ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãã ã•ã„...

## å¤‰æ›´å†…å®¹
- æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ 
- ãƒã‚°ã‚’ä¿®æ­£

## ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- [ ] æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹"
            ></textarea>
          </div>

          <div class="branch-selector">
            <select class="branch-select" id="prSourceBranch">
              <option value="feature/new-feature">feature/new-feature</option>
            </select>
            <span class="arrow">â†’</span>
            <select class="branch-select" id="prTargetBranch">
              <option value="main">main</option>
            </select>
          </div>
        </div>

        <button class="btn" onclick="createPullRequest()">
          <span>ğŸ”„</span>
          Pull Requestã‚’ä½œæˆ
        </button>
      </div>

      <!-- Step 5: Pull Requestç¢ºèª -->
      <div class="step" id="step5">
        <div class="step-header">
          <div class="step-number">5</div>
          <h3>Pull Requestã‚’ç¢ºèª</h3>
        </div>
        <p>ä½œæˆã•ã‚ŒãŸPull Requestã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã—ã¾ã™ã€‚</p>

        <div class="pr-preview" id="prPreview" style="display: none">
          <div class="pr-title" id="prTitlePreview">
            Pull Request Title
            <span class="status-badge status-open">Open</span>
          </div>
          <div class="pr-meta">
            <strong>gadgeski</strong> wants to merge commits into
            <strong>main</strong> from <strong>feature/new-feature</strong>
          </div>
          <div class="pr-description" id="prDescriptionPreview">
            Pull Request Description
          </div>

          <div class="diff-view">
            <div class="diff-header">ğŸ“„ index.js</div>
            <div class="diff-line added" id="diffContent">
              + // æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™
            </div>
          </div>
        </div>

        <button
          class="btn"
          onclick="mergePullRequest()"
          id="mergeBtn"
          style="display: none"
        >
          <span>ğŸ”€</span>
          Pull Requestã‚’ãƒãƒ¼ã‚¸
        </button>
      </div>

      <!-- Step 6: å®Œäº† -->
      <div class="step" id="step6">
        <div class="step-header">
          <div class="step-number">6</div>
          <h3>å®Œäº†ï¼</h3>
        </div>
        <div class="success-message" id="successMessage">
          ğŸ‰ Pull RequestãŒæ­£å¸¸ã«ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸï¼<br />
          ã‚ãªãŸã®å¤‰æ›´ãŒmainãƒ–ãƒ©ãƒ³ãƒã«åæ˜ ã•ã‚Œã¾ã—ãŸã€‚
        </div>

        <button class="btn btn-secondary" onclick="resetApp()">
          <span>ğŸ”„</span>
          ã‚‚ã†ä¸€åº¦è©¦ã™
        </button>
      </div>
    </div>

    <script>
      let currentStep = 1;
      let branchName = "";
      let codeContent = "";
      let commitMsg = "";

      function updateStepStatus() {
        for (let i = 1; i <= 6; i++) {
          const step = document.getElementById(`step${i}`);
          if (i < currentStep) {
            step.classList.add("completed");
            step.classList.remove("active");
          } else if (i === currentStep) {
            step.classList.add("active");
            step.classList.remove("completed");
          } else {
            step.classList.remove("active", "completed");
          }
        }
      }

      function createBranch() {
        const branchInput = document.getElementById("newBranchName");
        branchName = branchInput.value.trim();

        if (!branchName) {
          alert("ãƒ–ãƒ©ãƒ³ãƒåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
          return;
        }

        // ãƒ–ãƒ©ãƒ³ãƒåã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        if (!/^[a-zA-Z0-9-_/]+$/.test(branchName)) {
          alert(
            "ãƒ–ãƒ©ãƒ³ãƒåã«ã¯è‹±æ•°å­—ã€ãƒã‚¤ãƒ•ãƒ³ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã€ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã®ã¿ä½¿ç”¨ã§ãã¾ã™"
          );
          return;
        }

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
        const btn = event.target;
        btn.innerHTML = '<span class="loading"></span> ä½œæˆä¸­...';
        btn.disabled = true;

        setTimeout(() => {
          btn.innerHTML = "<span>âœ…</span> ä½œæˆå®Œäº†";
          currentStep = 2;
          updateStepStatus();

          // ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚½ãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’æ›´æ–°
          document.getElementById(
            "prSourceBranch"
          ).innerHTML = `<option value="${branchName}">${branchName}</option>`;
        }, 1500);
      }

      function saveChanges() {
        codeContent = document.getElementById("codeEditor").value;

        if (!codeContent.trim()) {
          alert("ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
          return;
        }

        const btn = event.target;
        btn.innerHTML = '<span class="loading"></span> ä¿å­˜ä¸­...';
        btn.disabled = true;

        setTimeout(() => {
          btn.innerHTML = "<span>âœ…</span> ä¿å­˜å®Œäº†";
          currentStep = 3;
          updateStepStatus();
        }, 1000);
      }

      function commitChanges() {
        commitMsg = document.getElementById("commitMessage").value.trim();

        if (!commitMsg) {
          alert("ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
          return;
        }

        const btn = event.target;
        btn.innerHTML = '<span class="loading"></span> ã‚³ãƒŸãƒƒãƒˆä¸­...';
        btn.disabled = true;

        setTimeout(() => {
          btn.innerHTML = "<span>âœ…</span> ã‚³ãƒŸãƒƒãƒˆå®Œäº†";
          currentStep = 4;
          updateStepStatus();

          // PRãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
          if (!document.getElementById("prTitle").value) {
            document.getElementById("prTitle").value = commitMsg;
          }
        }, 1500);
      }

      function createPullRequest() {
        const title = document.getElementById("prTitle").value.trim();
        const description = document
          .getElementById("prDescription")
          .value.trim();

        if (!title) {
          alert("Pull Requestã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
          return;
        }

        const btn = event.target;
        btn.innerHTML = '<span class="loading"></span> ä½œæˆä¸­...';
        btn.disabled = true;

        setTimeout(() => {
          btn.innerHTML = "<span>âœ…</span> ä½œæˆå®Œäº†";
          currentStep = 5;
          updateStepStatus();

          // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º
          document.getElementById("prPreview").style.display = "block";
          document.getElementById(
            "prTitlePreview"
          ).innerHTML = `${title} <span class="status-badge status-open">Open</span>`;
          document.getElementById("prDescriptionPreview").innerHTML =
            description.replace(/\n/g, "<br>");

          // å·®åˆ†è¡¨ç¤º
          const diffLines = codeContent
            .split("\n")
            .map((line) => `<div class="diff-line added">+ ${line}</div>`)
            .join("");
          document.getElementById("diffContent").innerHTML = diffLines;

          document.getElementById("mergeBtn").style.display = "inline-flex";
        }, 2000);
      }

      function mergePullRequest() {
        const btn = event.target;
        btn.innerHTML = '<span class="loading"></span> ãƒãƒ¼ã‚¸ä¸­...';
        btn.disabled = true;

        setTimeout(() => {
          btn.innerHTML = "<span>âœ…</span> ãƒãƒ¼ã‚¸å®Œäº†";
          currentStep = 6;
          updateStepStatus();

          // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
          document.getElementById("successMessage").style.display = "block";

          // PRã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°
          const statusBadge = document.querySelector(".status-badge");
          statusBadge.textContent = "Merged";
          statusBadge.className = "status-badge status-merged";
        }, 2000);
      }

      function resetApp() {
        currentStep = 1;
        branchName = "";
        codeContent = "";
        commitMsg = "";

        // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
        document.getElementById("newBranchName").value = "";
        document.getElementById("codeEditor").value = "";
        document.getElementById("commitMessage").value = "";
        document.getElementById("prTitle").value = "";
        document.getElementById("prDescription").value = "";

        // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’éš ã™
        document.getElementById("prPreview").style.display = "none";
        document.getElementById("mergeBtn").style.display = "none";
        document.getElementById("successMessage").style.display = "none";

        // ãƒœã‚¿ãƒ³ãƒªã‚»ãƒƒãƒˆ
        document.querySelectorAll(".btn").forEach((btn) => {
          btn.disabled = false;
          btn.innerHTML = btn.innerHTML.replace(/.*<span>/, "<span>");
        });

        updateStepStatus();
      }

      // åˆæœŸåŒ–
      updateStepStatus();
    </script>
  </body>
</html>
